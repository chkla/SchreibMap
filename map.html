<!DOCTYPE html>
<html>

<head>
    <title>SchreibMap - Schreibcenter in Deutschland (Beta 0.1)</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap core CSS -->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.css" rel="stylesheet" media="screen">
    <meta name="description" content="Schreiben im deutschsprachigen Raum hat ein vielfältiges Angebot und dieses soll hier abgebildet werden.">
    <meta name="author" content="Christopher Klamm">
    <link rel="icon" href="">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]><script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js">
		</script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
	<![endif]-->
</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#" style="color:#FFD700;">
                <!--<img alt="Brand" src="eule.png">-->
                <!---<div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>-->
                </a>
                <p class="navbar-text navbar-left" style="color:#FFD700;"> SchreibMap - Schreibzentren im deutschsprachigen Raum</p>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="mailto:schreibmap@chklamm.de">Kontakt</a></li>
                    <li><a id="myBtn">Impressum</a></li>
                    <div id="myModal" class="modal">
                        <!-- Modal content -->
                        <div class="modal-content">
                            <div class="modal-header">
                                <span class="close">&times</span>
                                <h2>About</h2>
                            </div>
                        <div class="modal-body">
                            <p>Christopher Klamm</p>
                            <p>TU Darmstadt</p>
                            <p>Hochschulstr. 1</p>
                            <p>64289 Darmstadt</p>
                            <br>
                            <p> Hier gibt es alle Schreibzentren im deutschsprachigen Raum als <a href="sc.csv">CSV-Datei</a> (Stand: 13.03.2017) basierend auf der <a href="http://www.schreibwerkstatt.uni-stuttgart.de/wir-ueber-uns/Vernetzung/Schreibzentren_im_deutschsprachigen_Raum.html">Schreibwerkstatt der Universität Suttgart</a>.</p>
                        </div>
                        <div class="modal-footer">
                            (c) Christopher Klamm
                        </div>
                    </div>
                </div>
                </ul>
            </div>
            </div>
                <!--<form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
            -->
            </div>
            <!--/.nav-collapse -->
        </div>
        </nav>


<!-- The Modal -->
<style>
html { height: 100% }
body { height: 100% }
#map { height: 100% }
</style>

    <script>
    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal 
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
    </script>
    <!--
            <h1>Bootstrap starter template</h1>
            <p class="lead">Use this document as a way to quickly start any new project.
                <br> All you get is this text and a mostly barebones HTML document.</p>
			-->
    <div id="map" class="map">
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
        <script type="text/javascript" src="http://mbostock.github.com/d3/d3.csv.js"></script>
        <script type="text/javascript" src="http://mbostock.github.com/d3/d3.time.js"></script>

        <script type="text/javascript">
        // Set locations of writing centers
        /*
        var locations = [
            ['Schreibzentrum der Pädagogische Hochschule Zürich', 47.3776241, 8.5324685, 4],
            ['SchreibCenter der TU Darmstadt', 49.8751004, 8.6546839, 5],
            ['Schreibzentrum der Goethe-Universität Frankfurt', 50.1270675, 8.6655748, 3],
            ['Schreibzentrum der Friedrich-Schiller-Universität Jena', 50.9295513, 11.5876308, 2],
            ['Schreibzentrum der Universität Erfurt', 50.991332, 11.0070133, 1],
            ['Universität Kassel', 51.3227527, 9.5054058, 5],
            ['Universität Konstanz', 47.6894678, 9.1846627, 6],
            ['Studierendenwerk Köln', 50.9237905, 6.9293905, 7],
            ['Universität Leipzig', 51.3385738, 12.3762728, 8],
            ['Pädagogische Hochschule Ludwigsburg', 48.909711, 9.181011, 9],
            ['Leuphana Universität Lüneburg', 53.228844, 10.3990313, 10],
            ['Johannes Gutenberg-Universität Mainz', 49.9926403, 8.2393665, 11],
            ['Universität Mannheim', 49.4837106, 8.4600446, 12],
            ['Hochschule Mittweida', 50.9873994, 12.9709092, 13],
            ['Ludwigs-Maximilians-Universität München', 48.150942, 11.5802543, 14],
            ['Westfälische Wilhelms-Universität', 51.9635705, 7.6109939, 15],
            ['Karlsruher Institut für Technologie', 49.0119199, 8.4148416, 16],
            ['Technische Hochschule Nürnberg Georg Simon Ohm', 49.4528366, 11.0911462, 17],
            ['Carl von Ossietzky Universität Oldenburg', 53.1488817, 8.1797584, 18],
            ['Universität Osnabrück', 52.2711024, 8.0426027, 19],
            ['Universität Paderborn', 51.7082095, 8.769795, 20],
            ['Universität Potsdam', 52.4010314, 13.0097211, 21],
            ['Universität Regensburg', 48.9986882, 12.0923586, 22],
            ['Ostbayrische Technische Hochschule Regensburg', 49.0168365, 12.0682821, 23],
            ['Eberhard Karls Universität Tübingen', 48.5294782, 9.0415853, 24],
            ['Bauhaus-Universität Weimar', 50.9756183, 11.3274971, 25],
            ['Bergische Universität Wuppertal', 51.245, 7.1473113, 26],
            ['Julius-Maximilians-Universität Würzburg', 49.7830083, 9.9686575, 27]
        ];
        */

        d3.csv("sc.csv", function(data) {

        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 5,
            center: new google.maps.LatLng(49.8751004, 8.6546839),
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        var infowindow = new google.maps.InfoWindow();

        var marker, i;

        for (i = 0; i <= 50; i++) {
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(parseFloat(data[i]['GeoLat']), parseFloat(data[i]['GeoLng'])),
                map: map
            });

            google.maps.event.addListener(marker, 'click', (function(marker, i) {
                return function() {
                    link = data[i]['Url'];
                    name = data[i]['SchoolName']
                    typ = data[i]['Typ']
                    contentString = '<div id="content">' + '<p>' + typ + ': <a href="' + link + '">' + name + '</a></p></div>';
                    infowindow.setContent(contentString);
                    infowindow.open(map, marker);
                }
            })(marker, i));
        }
        });
        </script>
    </div>
    <!-- /.container -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
    window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')
    </script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
</body>

</html>
